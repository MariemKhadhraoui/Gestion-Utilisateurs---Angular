<div class="container mt-5">
  <h3 class="text-center mb-4">Modifier un utilisateur</h3>
  <div class="card mx-auto" style="max-width: 600px;">
    <div class="card-body">
  <form (ngSubmit)="editUser()" #userForm="ngForm"  >

    <div class="mb-3 row">
      <label for="name" class="col-sm-4 col-form-label font-weight-bold"><strong> Nom :</strong></label>
      <div class="col-sm-8">
        <input type="text" class="form-control custom-width" id="name" name="name" [(ngModel)]="user.name" required>
        <div *ngIf="userForm.controls['name'].invalid && userForm.controls['name'].touched" class="text-danger">
          Le nom est obligatoire.
        </div>
      </div>
    </div>

    
    <div class="mb-3 row">
      <label for="username" class="col-sm-4 col-form-label font-weight-bold"><strong>Nom utilisateur :</strong></label>
      <div class="col-sm-8">
        <input type="text" class="form-control" id="username" name="username" [(ngModel)]="user.username" required>
        <div *ngIf="userForm.controls['username'].invalid && userForm.controls['username'].touched"
          class="text-danger">
          Le nom d'utilisateur est obligatoire.
        </div>
      </div>
    </div>

    <div class="mb-3 row">
      <label for="email" class="col-sm-4 col-form-label font-weight-bold"><strong>Adresse e-mail : </strong></label>
      <div class="col-sm-8">
        <input type="email" class="form-control" id="email" name="email" [(ngModel)]="user.email" required>
        <div *ngIf="userForm.controls['email'].invalid && userForm.controls['email'].touched" class="text-danger">
          Veuillez saisir une adresse e-mail valide.
        </div>
      </div>
    </div>

    <div class="mb-3 row">
      <label for="address" class="col-sm-4 col-form-label font-weight-bold"><strong>Adresse : </strong></label>
      <div class="col-sm-8">
        <input type="text" class="form-control" id="address" name="address" [(ngModel)]="user.address" required>
        <div *ngIf="userForm.controls['address'].invalid && userForm.controls['address'].touched"
          class="text-danger">
          L'adresse est obligatoire.
        </div>
      </div>
    </div>

    <div class="mb-3 row">
      <label for="phone" class="col-sm-4 col-form-label font-weight-bold"><strong>Téléphone : </strong></label>
      <div class="col-sm-8">
        <input type="text" class="form-control" id="phone" name="phone" [(ngModel)]="user.phone" required>
        <div *ngIf="userForm.controls['phone'].invalid && userForm.controls['phone'].touched" class="text-danger">
          Le téléphone est obligatoire.
        </div>
      </div>
    </div>

    <div class="mb-3 row">
      <label for="company" class="col-sm-4 col-form-label font-weight-bold"><strong>Entreprise :</strong></label>
      <div class="col-sm-8">
        <input type="text" class="form-control" id="company" name="company" [(ngModel)]="user.company" required>
        <div *ngIf="userForm.controls['company'].invalid && userForm.controls['company'].touched"
          class="text-danger">
          L'entreprise est obligatoire.
        </div>
      </div>
    </div>

    <div class="mb-3 d-flex justify-content-end">
      <button type="submit" class="btn btn-primary ml-2">Modifier</button>
      <button type="button" class="btn btn-secondary" (click)="cancelUpdate()">Annuler</button>
    </div>

    <div *ngIf="modificationReussie" class="alert alert-success mt-3" role="alert">
      La modification de l'utilisateur a réussi!
    </div>

  </form>
</div>
</div>
</div>